# LensClip PRD - 製品要件定義書

## 概要

子どもの「これなぁに？」に答えてあげられる、親子のためのデジタル図鑑 Web アプリ。

写真を撮るだけで、子どもにわかる言葉で説明が届く。
撮った発見はライブラリに蓄積され、世界にひとつだけの図鑑になっていく。

## ターゲットユーザー

- **操作者**: 3〜6 歳の子どもを持つ親
- **エンドユーザー**: 親子で一緒に使う

## 主要ユースケース

1. **撮影→同定**: 子どもの発見をカメラで撮る → 子ども向けの言葉で「これは○○だよ」と教えてくれる
2. **振り返り**: 過去の発見をライブラリで見返す、タグ・カテゴリ・地図で整理・検索する

## 機能一覧

| 機能 | 説明 |
|-----|------|
| 画像アップロード | カメラ撮影またはファイル選択（最大 10MB） |
| AI 分析 | 主対象の検出 → 同定 → 子ども向け説明・豆知識・注意事項を生成 |
| 候補カード | 複数候補を信頼度スコア付きで表示、タップで切り替え |
| ライブラリ | グリッド表示・日付 / カテゴリ / マップビュー・検索・タグフィルタ |
| タグ管理 | AI 自動付与 + 手動追加・削除 |
| カテゴリ | AI 判定 + 手動修正（animal / insect / plant / food / vehicle / place / tool / other） |
| 処理状態管理 | processing / ready / failed の状態遷移、失敗時ワンタップリトライ |
| 認証 | メール登録 + Google OAuth |
| 管理者機能 | Gemini モデル切り替え・アプリログ閲覧 |

## 非対応機能

- 通知機能
- SNS 共有・外部連携
- 家族間のデータ共有
- オフライン対応
- バッジ・達成システム

## 成功指標

- 1 ユーザーあたり週 5 枚以上の撮影
- AI 分析成功率 90% 以上
- 処理時間 10 秒以内（体感）

## 技術スタック

- **Backend**: Laravel 12 + MySQL
- **Frontend**: Inertia.js + React + TypeScript + Tailwind CSS
- **AI**: Cloud Vision API（Object Localization）+ Gemini API
- **Storage**: Google Cloud Storage / ローカル（`FILESYSTEM_DISK` で切り替え可能）
- **Queue**: Redis + Laravel Jobs
- **Deploy**: Railway（Docker）

## 制約・配慮

- **セキュリティ**: API キーはサーバーサイドのみ、EXIF 除去、アップロード時 MIME + 実体検証
- **子ども向け配慮**: 不適切コンテンツはブロック、安全なフォールバックメッセージを返す
- **モバイル優先**: レスポンシブデザイン、大きなタッチターゲット

---

*Last updated: 2026-02-27*
